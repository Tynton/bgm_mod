namespace = general_ai

#RANDOM DEVELOPMENT, ADM

province_event = {
	id = general_ai.1
	title = "general_ai.n.1"
	desc = "general_ai.d.1"
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		controlled_by = owner

		OR = {
			culture_group = owner
			has_owner_accepted_culture = yes
		}
		owner = {
			OR = {
				AND = {
					adm_power = 750
					NOT = {
						adm_tech = 30
					}
				}
				AND = {
					adm_power = 950
					adm_tech = 30
				}
			}
			ai = yes
			NOT = {
				governing_capacity_percentage = 1.0
			}
			NOT = { has_country_modifier = ai_get_tech }
			

			variable_arithmetic_trigger = {
			custom_tooltip = ROOT_HAS_ENOUGH_$type$_POWER_TO_DEVELOP_PROV
			
				export_to_variable = {
					which = dev_base_cost
					value = $base_cost$
				}
				export_to_variable = {
					which = dev_efficiency
					value = 1
				}
				if = {
					limit = {
						adm_tech = 17
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.01 }
					}
				}
				if = {
					limit = {
						adm_tech = 23
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.02 }
					}
				}
				
				if = {
					limit = {
						adm_tech = 27
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.02 }
					}
				}
				
				if = {
					limit = {
						adm_tech = 29
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.02 }
					}
				}
				if = {
					limit = {
						adm_tech = 30
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.03 }
					}
				}
				if = {
					limit = {
						adm_tech = 31
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.02 }
					}
				}
				
				if = {
					limit = {
						adm_tech = 35
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.03 }
					}
				}
				if = {
					limit = {
						adm_tech = 36
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.02 }
					}
				}
				
				if = {
					limit = {
						adm_tech = 39
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.02 }
					}
				}
				if = {
					limit = {
						adm_tech = 40
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.03 }
					}
				}
				
				if = {
					limit = {
						adm_tech = 44
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.02 }
					}
				}
				if = {
					limit = {
						adm_tech = 45
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.03 }
					}
				}
				if = {
					limit = {
						adm_tech = 46
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.02 }
					}
				}
				
				if = {
					limit = {
						adm_tech = 50
					}
					variable_arithmetic_trigger = {
						change_variable = { which = dev_efficiency value = -0.03 }
					}
				}
				
				multiply_variable = { which = dev_efficiency value = -0.01 }
				change_variable = { which = dev_efficiency value = 1 }
				multiply_variable = { which = dev_base_cost which = dev_efficiency }
				
				export_to_variable = {
					which = local_dev_cost
					value = modifier:local_development_cost
				}
				export_to_variable = {
					which = dev_cost
					value = modifier:development_cost
					who = owner
				}
				
				change_variable = { which = local_dev_cost which = dev_cost }
				
				if = {
					limit = {
						is_capital = yes
						ROOT = { NOT = { total_development = 1000 } }
					}
					variable_arithmetic_trigger = {
						export_to_variable = {
							which = country_total_dev
							value = trigger_value:total_development
							who = owner
						}
						multiply_variable = { which = country_total_dev value = 0.05 }
						divide_variable = { which = country_total_dev value = 100 }
						subtract_variable = { which = local_dev_cost which = country_total_dev }
					}
				}
				if = {
					limit = {
						is_capital = yes
						ROOT = { total_development = 1000 }
					}
					variable_arithmetic_trigger = {
						export_to_variable = {
							which = country_total_dev
							value = 0.5
						}
						subtract_variable = { which = local_dev_cost which = country_total_dev }
					}
				}
				
				
				change_variable = { which = local_dev_cost value = 1 }
				multiply_variable = { which = dev_base_cost which = local_dev_cost }
				divide_variable = { which = dev_base_cost value = 1000 }
				multiply_variable = { which = dev_base_cost value = 1000 }
				
				export_to_variable = {
					which = country_$type$_monarch_power
					value = trigger_value:$type$_power
					who = owner
				}
				change_variable = { which = country_$type$_monarch_power value = -1 }
				
				check_variable = { which = country_$type$_monarch_power which = dev_base_cost }
			}
		}

		NOT = {
			check_variable = {
				which = dev_base_cost
				value = 200
			}
		}
	}

	mean_time_to_happen = {
		months = 50 #70

		modifier = {
			factor = 5
			check_variable = {
				which = dev_base_cost
				value = 50
			}
		}

		modifier = {
			factor = 0.175
			NOT = {
				check_variable = {
					which = dev_base_cost
					value = 50
				}
			}
		}

		modifier = {
			factor = 0.01
			owner = {
				has_country_modifier = adm_tech_plateaued
				has_country_modifier = dip_tech_plateaued
				has_country_modifier = mil_tech_plateaued
			}
		}

		modifier = {
			factor = 5.0
			has_port = yes
		}
		
		modifier = {
			factor = 0.1
			owner = {
				adm_power = 1100
			}
		}
		
		modifier = {
			factor = 0.01
			owner = {
				OR = {
					is_colonial_nation = yes
					is_former_colonial_nation = yes
				}
			}
		}
		
		modifier = {
			factor = 0.25
			current_institution = 1
		}
		
		modifier = {
			factor = 0.5
			OR = {
				trade_goods = grain
				trade_goods = livestock
				trade_goods = fish
			}
		}
		
		modifier = {
			factor = 0.1
			is_prosperous = yes 
		}
		
		modifier = {
			factor = 0.0001
			is_prosperous = yes 
			NOT = { development = 10 }
		}
	}
	
	option = {
		name = "general_ai.1.a"
		
		ai_dev_cost = { 
			type = adm
			xyz = tax
		}
	}
}

#RANDOM DEVELOPMENT, DIP

province_event = {
	id = general_ai.2
	title = "general_ai.n.2"
	desc = "general_ai.d.2"
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		controlled_by = owner
		OR = {
			culture_group = owner
			has_owner_accepted_culture = yes
		}
		owner = {
			OR = {
				AND = {
					dip_power = 750
					NOT = {
						dip_tech = 30
					}
				}
				AND = {
					dip_power = 950
					dip_tech = 30
				}
			}
			ai = yes
			NOT = {
				governing_capacity_percentage = 1.0
			}
			NOT = { has_country_modifier = ai_get_tech }

			variable_arithmetic_trigger = {
				custom_tooltip = ROOT_HAS_ENOUGH_$type$_POWER_TO_DEVELOP_PROV
				
					export_to_variable = {
						which = dev_base_cost
						value = $base_cost$
					}
					export_to_variable = {
						which = dev_efficiency
						value = 1
					}
					if = {
						limit = {
							adm_tech = 17
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.01 }
						}
					}
					if = {
						limit = {
							adm_tech = 23
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 27
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 29
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					if = {
						limit = {
							adm_tech = 30
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.03 }
						}
					}
					if = {
						limit = {
							adm_tech = 31
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 35
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.03 }
						}
					}
					if = {
						limit = {
							adm_tech = 36
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 39
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					if = {
						limit = {
							adm_tech = 40
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.03 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 44
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					if = {
						limit = {
							adm_tech = 45
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.03 }
						}
					}
					if = {
						limit = {
							adm_tech = 46
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 50
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.03 }
						}
					}
					
					multiply_variable = { which = dev_efficiency value = -0.01 }
					change_variable = { which = dev_efficiency value = 1 }
					multiply_variable = { which = dev_base_cost which = dev_efficiency }
					
					export_to_variable = {
						which = local_dev_cost
						value = modifier:local_development_cost
					}
					export_to_variable = {
						which = dev_cost
						value = modifier:development_cost
						who = owner
					}
					
					change_variable = { which = local_dev_cost which = dev_cost }
					
					if = {
						limit = {
							is_capital = yes
							ROOT = { NOT = { total_development = 1000 } }
						}
						variable_arithmetic_trigger = {
							export_to_variable = {
								which = country_total_dev
								value = trigger_value:total_development
								who = owner
							}
							multiply_variable = { which = country_total_dev value = 0.05 }
							divide_variable = { which = country_total_dev value = 100 }
							subtract_variable = { which = local_dev_cost which = country_total_dev }
						}
					}
					if = {
						limit = {
							is_capital = yes
							ROOT = { total_development = 1000 }
						}
						variable_arithmetic_trigger = {
							export_to_variable = {
								which = country_total_dev
								value = 0.5
							}
							subtract_variable = { which = local_dev_cost which = country_total_dev }
						}
					}
					
					
					change_variable = { which = local_dev_cost value = 1 }
					multiply_variable = { which = dev_base_cost which = local_dev_cost }
					divide_variable = { which = dev_base_cost value = 1000 }
					multiply_variable = { which = dev_base_cost value = 1000 }
					
					export_to_variable = {
						which = country_$type$_monarch_power
						value = trigger_value:$type$_power
						who = owner
					}
					change_variable = { which = country_$type$_monarch_power value = -1 }
					
					check_variable = { which = country_$type$_monarch_power which = dev_base_cost }
			}
		}

		NOT = {
			check_variable = {
				which = dev_base_cost
				value = 200
			}
		}
	}
	mean_time_to_happen = {
		months = 50

		modifier = {
			factor = 5
			check_variable = {
				which = dev_base_cost
				value = 50
			}
		}

		modifier = {
			factor = 0.175
			NOT = {
				check_variable = {
					which = dev_base_cost
					value = 50
				}
			}
		}

		modifier = {
			factor = 0.01
			owner = {
				has_country_modifier = adm_tech_plateaued
				has_country_modifier = dip_tech_plateaued
				has_country_modifier = mil_tech_plateaued
			}
		}
		
		modifier = {
			factor = 0.01
			owner = {
				dip_power = 1100
			}
		}
		
		modifier = {
			factor = 0.075
			trade_goods = gold
		}
		
		modifier = {
			factor = 10.0
			OR = {
				trade_goods = grain
				trade_goods = livestock
				trade_goods = fish
				trade_goods = wine
			}
		}
		
		modifier = {
			factor = 0.1
			is_prosperous = yes 
		}
		
		modifier = {
			factor = 0.01
			is_prosperous = yes 
			NOT = { development = 10 }
		}
		
		modifier = {
			factor = 0.25
			current_institution = 1
		}
		
		modifier = {
			factor = 0.1
			OR = {
				trade_goods = cloth
				trade_goods = gold
				trade_goods = iron
				trade_goods = ivory
				trade_goods = spices
				trade_goods = cotton
				trade_goods = sugar
				trade_goods = tobacco
				trade_goods = silk
				trade_goods = dyes
				trade_goods = paper
			}
		}
		
		modifier = {
			factor = 0.15
			has_port = yes
		}
	}
	
	option = {
		name = "general_ai.2.a"
		ai_dev_cost = { 
			type = dip
			xyz = production
		}
	}
}

#RANDOM DEVELOPMENT, MIL

province_event = {
	id = general_ai.3
	title = "general_ai.n.3"
	desc = "general_ai.d.3"
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		controlled_by = owner
		OR = {
			culture_group = owner
			has_owner_accepted_culture = yes
		}
		owner = {
			OR = {
				AND = {
					mil_power = 750
					NOT = {
						mil_tech = 30
					}
				}
				AND = {
					mil_power = 950
					mil_tech = 30
				}
			}
			ai = yes
			NOT = {
				governing_capacity_percentage = 1.0
			}
			NOT = { has_country_modifier = ai_get_tech }

			variable_arithmetic_trigger = {
				custom_tooltip = ROOT_HAS_ENOUGH_$type$_POWER_TO_DEVELOP_PROV
				
					export_to_variable = {
						which = dev_base_cost
						value = $base_cost$
					}
					export_to_variable = {
						which = dev_efficiency
						value = 1
					}
					if = {
						limit = {
							adm_tech = 17
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.01 }
						}
					}
					if = {
						limit = {
							adm_tech = 23
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 27
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 29
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					if = {
						limit = {
							adm_tech = 30
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.03 }
						}
					}
					if = {
						limit = {
							adm_tech = 31
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 35
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.03 }
						}
					}
					if = {
						limit = {
							adm_tech = 36
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 39
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					if = {
						limit = {
							adm_tech = 40
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.03 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 44
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					if = {
						limit = {
							adm_tech = 45
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.03 }
						}
					}
					if = {
						limit = {
							adm_tech = 46
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.02 }
						}
					}
					
					if = {
						limit = {
							adm_tech = 50
						}
						variable_arithmetic_trigger = {
							change_variable = { which = dev_efficiency value = -0.03 }
						}
					}
					
					multiply_variable = { which = dev_efficiency value = -0.01 }
					change_variable = { which = dev_efficiency value = 1 }
					multiply_variable = { which = dev_base_cost which = dev_efficiency }
					
					export_to_variable = {
						which = local_dev_cost
						value = modifier:local_development_cost
					}
					export_to_variable = {
						which = dev_cost
						value = modifier:development_cost
						who = owner
					}
					
					change_variable = { which = local_dev_cost which = dev_cost }
					
					if = {
						limit = {
							is_capital = yes
							ROOT = { NOT = { total_development = 1000 } }
						}
						variable_arithmetic_trigger = {
							export_to_variable = {
								which = country_total_dev
								value = trigger_value:total_development
								who = owner
							}
							multiply_variable = { which = country_total_dev value = 0.05 }
							divide_variable = { which = country_total_dev value = 100 }
							subtract_variable = { which = local_dev_cost which = country_total_dev }
						}
					}
					if = {
						limit = {
							is_capital = yes
							ROOT = { total_development = 1000 }
						}
						variable_arithmetic_trigger = {
							export_to_variable = {
								which = country_total_dev
								value = 0.5
							}
							subtract_variable = { which = local_dev_cost which = country_total_dev }
						}
					}
					
					
					change_variable = { which = local_dev_cost value = 1 }
					multiply_variable = { which = dev_base_cost which = local_dev_cost }
					divide_variable = { which = dev_base_cost value = 1000 }
					multiply_variable = { which = dev_base_cost value = 1000 }
					
					export_to_variable = {
						which = country_$type$_monarch_power
						value = trigger_value:$type$_power
						who = owner
					}
					change_variable = { which = country_$type$_monarch_power value = -1 }
					
					check_variable = { which = country_$type$_monarch_power which = dev_base_cost }
			}
		}

		NOT = {
			check_variable = {
				which = dev_base_cost
				value = 200
			}
		}
	}	

	mean_time_to_happen = {
		months = 50

		modifier = {
			factor = 5
			check_variable = {
				which = dev_base_cost
				value = 50
			}
		}

		modifier = {
			factor = 0.175
			NOT = {
				check_variable = {
					which = dev_base_cost
					value = 50
				}
			}
		}

		modifier = {
			factor = 0.01
			owner = {
				has_country_modifier = adm_tech_plateaued
				has_country_modifier = dip_tech_plateaued
				has_country_modifier = mil_tech_plateaued
			}
		}
		
		modifier = {
			factor = 0.5
			has_port = yes
		}
		
		modifier = {
			factor = 0.01
			owner = {
				mil_power = 1100
			}
		}
		
		modifier = {
			factor = 0.1
			is_prosperous = yes 
		}
		
		modifier = {
			factor = 0.01
			is_prosperous = yes 
			NOT = { development = 10 }
		}

		modifier = {
			factor = 0.25
			current_institution = 1
			
		}
		
		modifier = {
			factor = 0.2
			OR = {
				trade_goods = grain
				trade_goods = livestock
				trade_goods = fish
				trade_goods = wine
			}
		}
		
		modifier = {
			factor = 0.1
			trade_goods = livestock
		}
		
		modifier = {
			factor = 5.0
			NOT = {
				OR = {
					trade_goods = grain
					trade_goods = livestock
					trade_goods = fish
					trade_goods = wine
				}
			}
		}
	}
	
	option = {
		name = "general_ai.3.a"
		add_devastation = -5
		ai_dev_cost = { 
			type = mil
			xyz = manpower
		}
	}
}

##############DISINHERITING EVENT

country_event = {
	id = general_ai.10
	title = "general_ai.n.10"
	desc = "general_ai.d.10"
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	
	trigger = {
		always = no #this event is now REDUNDANT
		
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "general_ai.10.a"
		add_prestige = -25
		remove_heir = {}
	}
}

##############STABILITY

country_event = {
	id = general_ai.11
	title = "general_ai.n.11"
	desc = "general_ai.d.11"
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		#ai = yes
		#NOT = {
		#	stability = 1
		#}
		#adm_power = 100
		always = no
	}

	mean_time_to_happen = {
		months = 16
		
		modifier = {
			factor = 0.1
			NOT = {
				stability = -1
			}
		}
		
		modifier = {
			factor = 0.1
			NOT = {
				stability = -2
			}
		}
	}
	
	option = {
		name = "general_ai.11.a"
		#add_adm_power = -75
		#add_stability = 1
	}
}

province_event = {
	id = general_ai.12
	title = "general_ai.n.12"
	desc = "general_ai.d.12"
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		owner = {
			treasury = 300
			NOT = { num_of_loans = 1 }
			ai = yes
			adm_tech = 23
		}
		num_free_building_slots = 0
		NOT = {
			OR = {
				has_construction = core
				has_construction = building
				has_construction = culture
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		
		modifier = {
			factor = 0.5
			has_terrain = farmlands
		}
	}
	
	option = {
		name = "general_ai.12.a"
		add_building_construction = {
			building = university
			speed = 1.0
			cost = 0.8
		}
	}
}

##############manpower

country_event = {
	id = general_ai.13
	title = "general_ai.n.13"
	desc = "general_ai.d.13"
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		ai = yes
		is_at_war = yes
		NOT = {
			manpower_percentage = 0.2
		}
		army_professionalism = 0.10
	}

	mean_time_to_happen = {
		months = 4
		
		modifier = {
			factor = 0.6
			NOT = {
				manpower_percentage = 0.15
			}
		}
		
		modifier = {
			factor = 0.3
			NOT = {
				manpower_percentage = 0.1
			}
		}
		
		modifier = {
			factor = 0.00001
			NOT = {
				manpower_percentage = 0.05
			}
		}
	}
	
	option = {
		name = "general_ai.11.a"
		add_army_professionalism = -0.1
		add_yearly_manpower = 1.0
	}
}

##############strengthen govt

country_event = {
	id = general_ai.14
	title = "general_ai.n.14"
	desc = "general_ai.d.14"
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		ai = yes
		OR = {
			AND = {
				mil_power = 950
				OR = {
					NOT = { legitimacy = 99 }
					NOT = { devotion = 99 }
					NOT = { republican_tradition = 99 }
					NOT = { horde_unity = 99 }
				}
			}
			AND = {
				has_country_flag = has_power_struggle
				NOT = {
					legitimacy = 75
				}
			}
			AND = {
				NOT = { absolutism = 100 }
				NOT = {
					OR = {
						current_age = age_of_discovery
						current_age = age_of_reformation
					}
				}
			}
		}
		mil_power = 75
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "general_ai.11.a"
		add_legitimacy = 10
		add_devotion = 10
		add_horde_unity = 10
		add_republican_tradition = 3
		add_mil_power = -75
	}
}

##############PERSONALITY CHANGES

#Peacetime, buildup

country_event = {
	id = general_ai.15
	title = "general_ai.n.15"
	desc = "general_ai.d.15"
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		ai = yes
		is_emperor_of_china = no
		is_emperor = no
		OR = {
			religion_group = muslim
			capital_scope = {
				continent = europe
			}
		}
		OR = {
			num_of_loans = 3
			NOT = {
				stability = 0
			}
			NOT = {
				capital_scope = {
					region = italy_region
				}
				adm_tech = 25
			}
			AND = {
				all_owned_province = {
					is_prosperous = yes 
				}
				years_of_income = 1.5
				is_part_of_hre = no
				is_great_power = no
			}
			is_subject = yes
			any_neighbor_country = {
				NOT = {
					army_size = ROOT
				}
			}
		}
		
		NOT = {
			OR = {
				personality = ai_colonialist
				personality = ai_capitalist
			}
		}
		NOT = { personality = ai_capitalist }
	}

	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = "general_ai.15.a"
		set_ai_personality = {
			personality = ai_capitalist
			locked = no
		}
	}
}

#Confident in own ability

country_event = {
	id = general_ai.16
	title = none
	desc = none
	picture = none

	
	
	trigger = {
		ai = yes
		is_subject = no
		is_emperor_of_china = no
		is_emperor = no
		NOT = {
			religion = anabaptist
		}
		OR = {
			religion_group = muslim
			capital_scope = {
				continent = europe
			}
		}
		#NOT = {
		#	has_country_flag = player_on_continent
		#}
		NOT = {
			OR = {
				has_idea_group = expansion_ideas
				has_idea_group = exploration_ideas
			}
		}
		NOT = {
			personality = ai_militarist
		}
		
		OR = {
			all_owned_province = {
				is_prosperous = yes 
			}
			years_of_income = 1.5
			is_part_of_hre = yes
			is_great_power = yes
		}
		
		NOT = {
			OR = {
				num_of_loans = 3
				NOT = {
					stability = 0
				}
			}
		}
		NOT = { personality = ai_militarist }
	}

	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = "general_ai.16.a"
		set_ai_personality = {
			personality = ai_militarist
			locked = no
		}
	}
}

#Confident in own ability, colonialism

country_event = {
	id = general_ai.17
	title = none
	desc = none
	picture = none

	
	
	trigger = {
		ai = yes
		is_subject = no
		is_emperor_of_china = no
		OR = {
			has_idea_group = expansion_ideas
			has_idea_group = exploration_ideas
		}
		OR = {
			religion_group = muslim
			capital_scope = {
				continent = europe
			}
		}
		
		OR = {
			AND = {
				NOT = {
					religion = anabaptist
				}
				NOT = {
					personality = ai_colonialist
				}
				
				OR = {
					all_owned_province = {
						is_prosperous = yes 
					}
					years_of_income = 1.5
				}
				
				NOT = {
					OR = {
						num_of_loans = 3
						NOT = {
							stability = 0
						}
					}
				}
			}
			AND = {
				capital_scope = {
					region = italy_region
				}
				adm_tech = 25
			}
		}
		NOT = { personality = ai_colonialist }
	}

	mean_time_to_happen = {
		months = 8
	}
	
	option = {
		name = "general_ai.17.a"
		set_ai_personality = {
			personality = ai_colonialist
			locked = no
		}
	}
}

#reduce war exhaustion

country_event = {
	id = general_ai.18
	title = none
	desc = none
	picture = none

	
	
	trigger = {
		ai = yes
		war_exhaustion = 2
		
		dip_power = 100
		
	}

	mean_time_to_happen = {
		months = 24
		
		modifier = {
			factor = 0.0001
			war_exhaustion = 5
		}
	}
	
	option = {
		name = "general_ai.18.a"
		add_war_exhaustion = -5
		add_dip_power = -75
	}
}

#increase mercantilism

country_event = {
	id = general_ai.19
	title = none
	desc = none
	picture = none

	
	
	trigger = {
		ai = yes
		
		#dip_power = 100
		NOT = {
			OR = {
				mercantilism = 100
				adm_tech = 20
			}
		}
	}

	mean_time_to_happen = {
		months = 120
	}
	
	option = {
		name = "general_ai.19.a"
		add_mercantilism = 4
		add_years_of_income = -0.5
	}
}

#increase mercantilism, manually

country_event = {
	id = general_ai.20
	title = none
	desc = none
	picture = none

	
	
	trigger = {
		ai = yes
		NOT = {
			mercantilism = 100
		}
		dip_power = 950
	}

	mean_time_to_happen = {
		months = 3
	}
	
	option = {
		name = "general_ai.19.a"
		add_mercantilism = 1
		add_dip_power = -100
	}
}

country_event = {
	id = general_ai.21
	title = none
	desc = none
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		ai = yes
		government = monarchy
		NOT = { has_country_modifier = burgundian_succession_crisis }
		prestige = 0
		has_heir = yes
		heir_age = 15
		variable_arithmetic_trigger = {
            export_to_variable = { which = diff value = heir_adm }
            export_to_variable = { which = temp value = heir_dip }
            change_variable = { which = diff value = temp }
            export_to_variable = { which = temp value = heir_mil }
            change_variable = { which = diff value = temp }
            export_to_variable = { which = temp value = adm }
            subtract_variable = { which = diff value = temp }
            export_to_variable = { which = temp value = dip }
            subtract_variable = { which = diff value = temp }
            export_to_variable = { which = temp value = mil }
            subtract_variable = { which = diff value = temp }
            check_variable = { which = diff value = 6 }
        }
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = none
		add_prestige = -50
		kill_ruler = yes
	}
}

province_event = {
	id = general_ai.23
	title = none
	desc = none
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		owner = {
			treasury = 100
			NOT = { num_of_loans = 1 }
			ai = yes
			dip_tech = 5
		}
		has_port = yes
		num_free_building_slots = 1
		NOT = {
			religion = sunni
		}
		OR = {
			region = italy_region
			area = languedoc_area
			area = provence_area
			region = iberia_region
		}
		NOT = { has_building = coastal_defence }
		NOT = {
			OR = {
				has_construction = core
				has_construction = building
				has_construction = culture
			}
		}
	}

	mean_time_to_happen = {
		months = 6
		
		modifier = {
			factor = 0.5
			has_terrain = farmlands
		}
	}
	
	option = {
		name = none
		add_building_construction = {
			building = coastal_defence
			speed = 1.0
			cost = 1.0
		}
	}
}

province_event = {
	id = general_ai.24
	title = none
	desc = none
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		owner = {
			treasury = 500
			NOT = { num_of_loans = 1 }
			ai = yes
			adm_tech = 30
		}
		OR = {
			trade_goods = coal
			trade_goods = steel
		}
		NOT = { has_building = furnace }
		NOT = {
			OR = {
				has_construction = core
				has_construction = building
				has_construction = culture
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		
		modifier = {
			factor = 0.5
			has_terrain = farmlands
		}
	}
	
	option = {
		name = none
		remove_building = temple
		remove_building = cathedral
		add_building_construction = {
			building = furnace
			speed = 1.0
			cost = 1.0
		}
	}
}

#Fall of the Mamluks
country_event = {
	id = general_ai.25
	title = general_ai.25.t
	desc = general_ai.25.d
	picture = GREAT_BUILDING_eventPicture

	major = yes

	trigger = {
		TUR = {
			is_in_war = {
				attacker_leader = ROOT
				defender_leader = MAM
				war_score = 50
			}
		}
		MAM = { ai = yes }
	}

	option = {
		MAM = {
			every_owned_province = {
				add_core = TUR
			}
		}
		TUR = {
			inherit = MAM
		}
	}
}

#claim fabrication
country_event = {
	id = general_ai.26
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	

	trigger = {
		ai = yes
	}

	mean_time_to_happen = {
		months = 250

		modifier = {
			factor = 0.25
			OR = {
				culture_group = french
				culture_group = occitan
				culture_group = iberian
				
				culture_group = latin
			}
			any_neighbor_country = {
				OR = {
					
					culture_group = latin
				}
			}
		}

		modifier = {
			factor = 0.25
			is_part_of_hre = yes
			any_neighbor_country = {
				is_part_of_hre = yes
			}
		}

		modifier = {
			factor = 0.5
			any_neighbor_country = {
				NOT = {
					army_strength = {
						who = ROOT
						value = 1
					}
				}
			}
		}
	}

	option = {
		random_neighbor_country = {
			random_owned_province = {
				limit = {
					any_neighbor_province = {
						owned_by = ROOT
					}
					NOT = {
						is_claim = ROOT
					}
				}
				add_claim = ROOT
			}
		}
	}
}

#french claim italy
country_event = {
	id = general_ai.27
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	

	trigger = {
		ai = yes
		OR = {
			culture_group = french
			culture_group = occitan
			
			culture_group = latin
		}
		any_neighbor_country = {
			OR = {
				
				culture_group = latin
			}
		}
	}

	mean_time_to_happen = {
		months = 100


		modifier = {
			factor = 0.25
			is_part_of_hre = no
			any_neighbor_country = {
				is_part_of_hre = no
			}
		}

		modifier = {
			factor = 0.5
			any_neighbor_country = {
				NOT = {
					army_strength = {
						who = ROOT
						value = 1
					}
				}
			}
		}
	}

	option = {
		random_neighbor_country = {
			limit = {
				OR = {
					
					culture_group = latin
				}
			}
			random_owned_province = {
				limit = {
					any_neighbor_province = {
						owned_by = ROOT
					}
					NOT = {
						is_claim = ROOT
					}
				}
				add_claim = ROOT
			}
		}
	}
}

#remove now useless ideas
country_event = {
	id = general_ai.28
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	

	trigger = {
		ai = yes
		adm_tech = 42
	}

	mean_time_to_happen = {
		months = 8
	}
	option = {
		if = {
			limit = {
				has_idea_group = exploration_ideas
			}
			remove_idea_group = exploration_ideas
			add_dip_power = 400
		}
		if = {
			limit = {
				has_idea_group = religious_ideas
			}
			remove_idea_group = religious_ideas
			add_dip_power = 400
		}
		if = {
			limit = {
				has_idea_group = expansion_ideas
			}
			remove_idea_group = expansion_ideas
			add_adm_power = 400
		}
	}
}

#disinherit heir if heir incompetent
country_event = {
	id = general_ai.29
	title = none
	desc = none
	picture = none

	

	trigger = {
		ai = yes
		NOT = { has_country_modifier = burgundian_succession_crisis }
		NOT = { has_heir_flag = is_charles_of_burg_flag }
		prestige = 0
		has_heir = yes

		NOT = {
			OR = {
				ruler_age = 38
				ruler_has_personality = infertile_personality
			}
		}

		heir_dynasty = ROOT
		variable_arithmetic_trigger = {
			export_to_variable = {
				which = heirskill
				value = heir_adm
			}
			export_to_variable = {
				which = heirskill_dip
				value = heir_dip
			}
			export_to_variable = {
				which = heirskill_mil
				value = heir_mil
			}
			change_variable = { which = heirskill which = heirskill_dip }
			change_variable = { which = heirskill which = heirskill_mil }
			NOT = {
				check_variable = {
					which = heirskill
					value = 9
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 8
	}
	option = {
		kill_heir = {
			allow_new_heir = no
		}
		add_prestige = -25
	}
}

#destroy ramparts if no fort
province_event = {
	id = general_ai.30
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	

	trigger = {
		owner = {
			ai = yes
		}
		NOT = {
			fort_level = 1
		}
		has_building = ramparts
	}

	mean_time_to_happen = {
		months = 8
	}
	option = {
		remove_building = ramparts
	}
}

#######################
####NON EUROPEAN AI####
#######################

country_event = {
	id = general_ai.31
	title = none
	desc = none
	picture = none

	
	
	trigger = {
		ai = yes
		NOT = { personality = ai_diplomat }
		capital_scope = {
			NOT = {
				continent = europe
			}
		}
		NOT = {
			religion_group = muslim
		}
	}

	mean_time_to_happen = {
		months = 8
	}
	
	option = {
		name = "general_ai.17.a"
		set_ai_personality = {
			personality = ai_diplomat
			locked = no
		}
	}
}

#no idea/dev if not max tech
country_event = {
	id = general_ai.32
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	

	trigger = {
		ai = yes
		OR = {
			has_country_modifier = stop_idea
			has_country_modifier = stop_dev
		}
	}

	mean_time_to_happen = {
		months = 8
	}
	option = {
		remove_country_modifier = stop_idea
		remove_country_modifier = stop_dev
	}
}

#no idea/dev if not max tech
country_event = {
	id = general_ai.33
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	

	trigger = {
		ai = yes
		has_country_modifier = ai_get_tech
		OR = {
			NOT = { adm_tech = 45 }
			AND = {
				has_idea_group = postmodern_ideas
				NOT = { full_idea_group = postmodern_ideas }
			}
			AND = {
				has_idea_group = exploration_ideas
				NOT = { full_idea_group = exploration_ideas }
			}
			AND = {
				has_idea_group = expansion_ideas
				NOT = { full_idea_group = expansion_ideas }
			}
			AND = {
				has_idea_group = quantity_ideas
				NOT = { full_idea_group = quantity_ideas }
			}
		}
		#NOT = {
		#	OR = {
		#		any_neighbor_country = {
		#			mil_tech = ROOT
		#		}
		#		any_rival_country = {
		#			mil_tech = ROOT
		#		}
		#		any_enemy_country = {
		#			mil_tech = ROOT
		#		}
		#	}
		#}
	}

	mean_time_to_happen = {
		years = 18

		modifier = {
			factor = 0.0001
			OR = {
				AND = {
					has_idea_group = postmodern_ideas
					NOT = { full_idea_group = postmodern_ideas }
				}
				AND = {
					has_idea_group = exploration_ideas
					NOT = { full_idea_group = exploration_ideas }
				}
				AND = {
					has_idea_group = expansion_ideas
					NOT = { full_idea_group = expansion_ideas }
				}
				AND = {
					has_idea_group = quantity_ideas
					NOT = { full_idea_group = quantity_ideas }
				}
			}
		}
	}
	option = {
		add_country_modifier = { 
			name = allow_idea
			duration = 3
		}
	}
}

#BUILDINGS
province_event = {
	id = general_ai.35
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	trigger = {
		OR = {
			AND = {
				NOT = {
					owner = {
						adm_tech = 24
					}
				}
				NOT = {
					has_building = workshop
				}
			}
			AND = {
				owner = {
					adm_tech = 24
				}
				NOT = {
					has_building = counting_house
				}
			}
		}
		owner = {
			ai = yes
			treasury = 500
			NOT = { num_of_loans = 1 }
		}
		OR = {
			AND = {
				owner = {
					treasury = 500
				}
				NOT = {
					OR = {
						has_building = wharf
						has_building = soldier_households
						has_building = impressment_offices
						has_building = mills
						has_building = furnace
						has_building = tradecompany
						has_building = plantations
						has_building = textile
						has_building = weapons
					}
				}
			}
			AND = {
				owner = {
					treasury = 300
				}
				OR = {
					has_building = wharf
					has_building = soldier_households
					has_building = impressment_offices
					has_building = mills
					has_building = furnace
					has_building = tradecompany
					has_building = plantations
					has_building = textile
					has_building = weapons
				}
			}
		}
		NOT = { 
			OR = {
				has_building = workshop 
				has_building = counting_house
			}
		}
		OR = {
			NOT = {
				OR = {
					trade_goods = wine
					trade_goods = livestock
					trade_goods = grain
					trade_goods = fish
				}
			}
			AND = {
				OR = {
					has_building = temple
					has_building = cathedral
				}
				OR = {
					has_building = barracks
					has_building = training_fields
				}
				OR = {
					has_building = marketplace
					has_building = trade_depot
				}
			}
		}
	}

	mean_time_to_happen = {
		years = 2
	}
	option = {
		if = {
			limit = {
				owner = {
					NOT = {
						adm_tech = 24
					}
				}
			}
			add_building_construction = {
				building = workshop
				speed = 1.0
				cost = 0.9
			}
		}
		if = {
			limit = {
				owner = {
					adm_tech = 24
				}
			}
			add_building_construction = {
				building = counting_house
				speed = 1.0
				cost = 0.85
			}
		}
	}
}

#TAX
province_event = {
	id = general_ai.36
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	trigger = {
		OR = {
			AND = {
				NOT = {
					owner = {
						adm_tech = 19
					}
				}
				NOT = {
					has_building = temple
				}
			}
			AND = {
				owner = {
					adm_tech = 19
				}
				NOT = {
					has_building = cathedral
				}
			}
		}
		owner = {
			ai = yes
			treasury = 500
			NOT = { num_of_loans = 1 }
		}
		OR = {
			AND = {
				owner = {
					treasury = 500
				}
				NOT = {
					OR = {
						has_building = wharf
						has_building = soldier_households
						has_building = impressment_offices
						has_building = mills
						has_building = furnace
						has_building = tradecompany
						has_building = plantations
						has_building = textile
						has_building = weapons
					}
				}
			}
			AND = {
				owner = {
					treasury = 300
				}
				OR = {
					has_building = wharf
					has_building = soldier_households
					has_building = impressment_offices
					has_building = mills
					has_building = furnace
					has_building = tradecompany
					has_building = plantations
					has_building = textile
					has_building = weapons
				}
			}
		}
		NOT = { 
			OR = {
				has_building = temple 
				has_building = cathedral
			}
		}
	}

	mean_time_to_happen = {
		years = 2
	}
	option = {
		if = {
			limit = {
				owner = {
					NOT = {
						adm_tech = 19
					}
				}
			}
			add_building_construction = {
				building = temple
				speed = 1.0
				cost = 0.9
			}
		}
		if = {
			limit = {
				owner = {
					adm_tech = 19
				}
			}
			add_building_construction = {
				building = cathedral
				speed = 1.0
				cost = 0.85
			}
		}
	}
}

#MANPOWER
province_event = {
	id = general_ai.37
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	trigger = {
		OR = {
			AND = {
				NOT = {
					owner = {
						mil_tech = 16
					}
				}
				NOT = {
					has_building = barracks
				}
			}
			AND = {
				owner = {
					mil_tech = 16
				}
				NOT = {
					has_building = training_fields
				}
			}
		}
		owner = {
			ai = yes
			treasury = 500
			NOT = { num_of_loans = 1 }
		}
		OR = {
			AND = {
				owner = {
					treasury = 500
				}
				NOT = {
					OR = {
						has_building = wharf
						has_building = soldier_households
						has_building = impressment_offices
						has_building = mills
						has_building = furnace
						has_building = tradecompany
						has_building = plantations
						has_building = textile
						has_building = weapons
					}
				}
			}
			AND = {
				owner = {
					treasury = 300
				}
				OR = {
					has_building = wharf
					has_building = soldier_households
					has_building = impressment_offices
					has_building = mills
					has_building = furnace
					has_building = tradecompany
					has_building = plantations
					has_building = textile
					has_building = weapons
				}
			}
		}
		NOT = {
			OR = {
				has_building = workshop 
				has_building = training_fields
			}
		}
		OR = {
			OR = {
				trade_goods = wine
				trade_goods = livestock
				trade_goods = grain
				trade_goods = fish
			}
			AND = {
				OR = {
					has_building = temple
					has_building = cathedral
				}
				OR = {
					has_building = workshop
					has_building = counting_house
				}
			}
		}
	}

	mean_time_to_happen = {
		years = 2
	}
	option = {
		if = {
			limit = {
				owner = {
					NOT = {
						mil_tech = 16
					}
				}
			}
			add_building_construction = {
				building = barracks
				speed = 1.0
				cost = 0.9
			}
		}
		if = {
			limit = {
				owner = {
					mil_tech = 16
				}
			}
			add_building_construction = {
				building = training_fields
				speed = 1.0
				cost = 0.85
			}
		}
	}
}

#MANUFACTORY
province_event = {
	id = general_ai.38
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	trigger = {
		owner = {
			ai = yes
			treasury = 500
			NOT = { num_of_loans = 1 }
			adm_tech = 16
			dip_tech = 16
			mil_tech = 16
		}
		NOT = {
			OR = {
				has_building = wharf
				has_building = soldier_households
				has_building = impressment_offices
				has_building = mills
				has_building = furnace
				has_building = tradecompany
				has_building = plantations
				has_building = textile
				has_building = weapons
			}
		}
	}

	mean_time_to_happen = {
		months = 2
	}
	option = {
		if = {
			limit = {
				trade_goods = salt
			}
			add_building_construction = {
				building = wharf
				speed = 1.0
				cost = 0.9
			}
		}
		if = {
			limit = {
				OR = {
					trade_goods = wine
					trade_goods = grain
					trade_goods = livestock
					AND = {
						trade_goods = fish
						base_manpower = 5
					}
				}
			}
			add_building_construction = {
				building = soldier_households
				speed = 1.0
				cost = 0.9
			}
		}
		if = {
			limit = {
				trade_goods = fish
				NOT = {
					base_manpower = 5
				}
			}
			add_building_construction = {
				building = impressment_offices
				speed = 1.0
				cost = 0.9
			}
		}
		if = {
			limit = {
				OR = {
					trade_goods = paper
					trade_goods = gems
					trade_goods = tropical_wood
					trade_goods = chinaware
					trade_goods = glass
				}
			}
			add_building_construction = {
				building = mills
				speed = 1.0
				cost = 0.9
			}
		}
		if = {
			limit = {
				OR = {
					trade_goods = coal
					trade_goods = steel
				}
			}
			add_building_construction = {
				building = furnace
				speed = 1.0
				cost = 0.9
			}
		}
		if = {
			limit = {
				OR = {
					trade_goods = ivory
					trade_goods = slaves
					trade_goods = spices
					trade_goods = cloves
					trade_goods = fur
					trade_goods = incense
				}
			}
			add_building_construction = {
				building = tradecompany
				speed = 1.0
				cost = 0.9
			}
		}
		if = {
			limit = {
				OR = {
					trade_goods = coffee
					trade_goods = cotton
					trade_goods = sugar
					trade_goods = tobacco
					trade_goods = tea
					trade_goods = cocoa
				}
			}
			add_building_construction = {
				building = plantations
				speed = 1.0
				cost = 0.9
			}
		}
		if = {
			limit = {
				OR = {
					trade_goods = wool
					trade_goods = cloth
					trade_goods = silk
					trade_goods = dyes
				}
			}
			add_building_construction = {
				building = textile
				speed = 1.0
				cost = 0.9
			}
		}
		if = {
			limit = {
				OR = {
					trade_goods = iron
					trade_goods = copper
				}
			}
			add_building_construction = {
				building = weapons
				speed = 1.0
				cost = 0.9
			}
		}
	}
}

#use balance of power CB
country_event = {
	id = general_ai.39
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	hidden = yes

	trigger = {
		any_country = {
			ai = yes
			OR = {
				ai_attitude = {
					who = ROOT
					attitude = attitude_threatened
				}
				ai_attitude = {
					who = ROOT
					attitude = attitude_outraged
				}
				ai_attitude = {
					who = ROOT
					attitude = attitude_hostile
				}
			}
			is_subject = no
			has_casus_belli = {
				type = cb_balance_power
				target = ROOT
			}
			military_strength = {
				who = ROOT
				value = 0.2
			}
			NOT = { 
				OR = {
					truce_with = ROOT
					alliance_with = ROOT
					marriage_with = ROOT
					is_subject_of = ROOT
					overlord_of = ROOT
					religion = anabaptist
				}
			}
			capital_scope = {
				continent = ROOT
				NOT = {
					ROOT = {
						capital_scope = {
							region = british_isles_region
						}
						any_owned_province = {
							OR = {
								superregion = eastern_europe_superregion
								region = low_countries_region
								region = france_region
								region = north_german_region
								region = south_german_region
								region = italy_region
								region = iberia_region
							}
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 250

		modifier = {
			factor = 0.001
			ROOT = {
				is_in_war = {
					defender_leader = ROOT
				}
			}
		}
	}
	option = {
		
		random_country = {
			limit = {
				ai = yes
				OR = {
					ai_attitude = {
						who = ROOT
						attitude = attitude_threatened
					}
					ai_attitude = {
						who = ROOT
						attitude = attitude_outraged
					}
					ai_attitude = {
						who = ROOT
						attitude = attitude_hostile
					}
				}
				is_subject = no
				has_casus_belli = {
					type = cb_balance_power
					target = ROOT
				}
				NOT = { 
					OR = {
						truce_with = ROOT
						alliance_with = ROOT
						marriage_with = ROOT
						is_subject_of = ROOT
						overlord_of = ROOT
						religion = anabaptist
					}
				}
				capital_scope = {
					continent = ROOT
				}
			}
			declare_war_with_cb = {
				casus_belli = cb_balance_power
				who = ROOT
			}
		}
	}
}

country_event = {
	id = general_ai.40
	title = none
	desc = none
	picture = GREAT_BUILDING_eventPicture

	

	trigger = {
		ai = yes
		any_country = {
			has_casus_belli = {
				type = cb_nationalist
				target = ROOT
			}
		}
	}

	mean_time_to_happen = {
		years = 18

		modifier = {
			factor = 0.0001
			OR = {
				AND = {
					has_idea_group = postmodern_ideas
					NOT = { full_idea_group = postmodern_ideas }
				}
				AND = {
					has_idea_group = exploration_ideas
					NOT = { full_idea_group = exploration_ideas }
				}
				AND = {
					has_idea_group = expansion_ideas
					NOT = { full_idea_group = expansion_ideas }
				}
				AND = {
					has_idea_group = quantity_ideas
					NOT = { full_idea_group = quantity_ideas }
				}
			}
		}
	}
	option = {
		every_country = {
			limit = {
				alliance_with = ROOT
				has_casus_belli = {
					type = cb_nationalist
					target = ROOT
				}
			}
			break_alliance = ROOT
		}
	}
}

province_event = {
	id = general_ai.41
	title = none
	desc = none
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		owner = {
			treasury = 300
			NOT = { num_of_loans = 1 }
			ai = yes
			adm_tech = 19
		}
		NOT = { has_building = cathedral }
		has_building = temple
		NOT = {
			OR = {
				has_construction = core
				has_construction = building
				has_construction = culture
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		
		modifier = {
			factor = 0.5
			has_terrain = farmlands
		}
	}
	
	option = {
		name = none
		add_building_construction = {
			building = cathedral
			speed = 1.0
			cost = 0.95
		}
	}
}

province_event = {
	id = general_ai.42
	title = none
	desc = none
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		owner = {
			treasury = 500
			NOT = { num_of_loans = 1 }
			ai = yes
			adm_tech = 29
		}
		NOT = { has_building = tax_center }
		has_building = cathedral
		NOT = {
			OR = {
				has_construction = core
				has_construction = building
				has_construction = culture
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		
		modifier = {
			factor = 0.5
			has_terrain = farmlands
		}
	}
	
	option = {
		name = none
		add_building_construction = {
			building = tax_center
			speed = 1.0
			cost = 0.95
		}
	}
}

province_event = {
	id = general_ai.43
	title = none
	desc = none
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		owner = {
			treasury = 500
			NOT = { num_of_loans = 1 }
			ai = yes
			adm_tech = 24
		}
		NOT = { has_building = counting_house }
		has_building = workshop
		NOT = {
			OR = {
				has_construction = core
				has_construction = building
				has_construction = culture
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		
		modifier = {
			factor = 0.5
			has_terrain = farmlands
		}
	}
	
	option = {
		name = none
		add_building_construction = {
			building = counting_house
			speed = 1.0
			cost = 0.95
		}
	}
}

province_event = {
	id = general_ai.44
	title = none
	desc = none
	picture = ANGRY_MOB_eventPicture

	
	
	trigger = {
		owner = {
			treasury = 800
			NOT = { num_of_loans = 1 }
			ai = yes
			adm_tech = 30
		}
		NOT = { has_building = factory_infrastructure }
		has_building = counting_house
		NOT = {
			OR = {
				has_construction = core
				has_construction = building
				has_construction = culture
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		
		modifier = {
			factor = 0.5
			has_terrain = farmlands
		}
	}
	
	option = {
		name = none
		add_building_construction = {
			building = factory_infrastructure
			speed = 1.0
			cost = 0.85
		}
	}
}

#Break alliance if has nationalist CB

country_event = {
	id = general_ai.45
	title = none
	desc = none
	picture = none
	
	hidden = yes
	
	trigger = {
		any_country = {
			has_casus_belli = {
				type = cb_nationalist
				target = ROOT
			}
		}
		ROOT = {
			ai = yes
		}
	}

	mean_time_to_happen = {
		months = 3
	}
	
	option = {
		name = "none"
		
		random_country = {
			limit = {
				has_casus_belli = {
					type = cb_nationalist
					target = ROOT
				}
			}
			break_alliance = ROOT
		}
	}
}

country_event = {
	id = general_ai.46
	title = none
	desc = none
	picture = none
	
	hidden = yes
	
	trigger = {
		ai = yes
		inflation = 2
		adm_power = 75
	}

	mean_time_to_happen = {
		months = 3
	}
	
	option = {
		name = "none"
		
		add_adm_power = -72
		add_inflation = -2
	}
}

#Build alliances with similar sized powers who are also friendly

country_event = {
	id = general_ai.47
	title = none
	desc = none
	picture = none
	
	hidden = yes
	
	trigger = {
		is_at_war = no
		ai = yes
		num_of_free_diplomatic_relations = 1 

		any_country = {
			is_great_power = no
			is_at_war = no
			ai = yes
			army_size = 35
			num_of_free_diplomatic_relations = 1 

			NOT = { truce_with = ROOT } #closest approximation to annulled treaties
			NOT = { alliance_with = ROOT }
			has_opinion = {
				who = ROOT
				value = -25
			}
			OR = {
				has_opinion = {
					who = ROOT
					value = 100
				}
				ai_attitude = {
					who = ROOT
					attitude = attitude_friendly
				}
			}
			army_strength = {
				who = ROOT
				value = 0.45
			}
			NOT = {
				army_strength = {
					who = ROOT
					value = 4
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 15

		modifier = {
			factor = 5
			is_great_power = yes
			NOT = {
				num_of_allies = 3
			}
		}

		modifier = {
			factor = 100
			any_country = {
				has_opinion_modifier = {
					who = ROOT
					modifier = allied_to_rival
				}

				ai = yes
				army_size = 35
				num_of_free_diplomatic_relations = 1 

				NOT = { truce_with = ROOT } #closest approximation to annulled treaties
				NOT = { alliance_with = ROOT }
				has_opinion = {
					who = ROOT
					value = -25
				}
				OR = {
					has_opinion = {
						who = ROOT
						value = 100
					}
					ai_attitude = {
						who = ROOT
						attitude = attitude_friendly
					}
				}
				army_strength = {
					who = ROOT
					value = 0.45
				}
				NOT = {
					army_strength = {
						who = ROOT
						value = 4
					}
				}
			}
		}
	}
	
	option = {
		name = "none"
		
		random_country = {
			limit = {
				is_great_power = no
				is_at_war = no
				ai = yes
				num_of_free_diplomatic_relations = 1
				NOT = { truce_with = ROOT } #closest approximation to annulled treaties
				NOT = { alliance_with = ROOT }
				has_opinion = {
					who = ROOT
					value = -25
				}
				OR = {
					has_opinion = {
						who = ROOT
						value = 100
					}
					ai_attitude = {
						who = ROOT
						attitude = attitude_friendly
					}
				}
				army_strength = {
					who = ROOT
					value = 0.45
				}
				NOT = {
					army_strength = {
						who = ROOT
						value = 4
					}
				}
			}
			create_alliance = ROOT
		}
	}
}

#however if the AI spots a high value target it may disregard upkeep

country_event = {
	id = general_ai.48
	title = none
	desc = none
	picture = none
	
	hidden = yes
	
	trigger = {
		ai = yes
		is_at_war = no
		OR = {
			is_great_power = yes
			is_emperor = yes
		}
		any_country = {
			ai = yes
			OR = {
				is_great_power = yes
				is_emperor = yes
			}
			NOT = { truce_with = ROOT } #closest approximation to annulled treaties
			NOT = { alliance_with = ROOT }
			NOT = {
				any_ally = {
					OR = {
						is_rival = ROOT
						is_enemy = ROOT
					}
				}
			}
			has_opinion = {
				who = ROOT
				value = -25
			}
			OR = {
				has_opinion = {
					who = ROOT
					value = 100
				}
				ai_attitude = {
					who = ROOT
					attitude = attitude_friendly
				}
			}
			army_strength = {
				who = ROOT
				value = 1
			}
			NOT = {
				army_strength = {
					who = ROOT
					value = 4
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 8

		modifier = {
			factor = 0.0001
			NOT = {
				is_year = 1445 #start trying to build alliances ASAP
			}
		}

		modifier = {
			factor = 12
			NOT = { num_of_free_diplomatic_relations = 1 }
		}
	}
	
	option = {
		name = "none"
		
		random_country = {
			limit = {
				ai = yes
				OR = {
					is_great_power = yes
					is_emperor = yes
				}
				NOT = { truce_with = ROOT } #closest approximation to annulled treaties
				NOT = { alliance_with = ROOT }
				has_opinion = {
					who = ROOT
					value = -25
				}
				OR = {
					has_opinion = {
						who = ROOT
						value = 100
					}
					ai_attitude = {
						who = ROOT
						attitude = attitude_friendly
					}
				}
				army_strength = {
					who = ROOT
					value = 1
				}
				NOT = {
					army_strength = {
						who = ROOT
						value = 4
					}
				}
			}
			create_alliance = ROOT
		}

		if = {
			limit = {
				NOT = { num_of_free_diplomatic_relations = 1 }
				any_ally = {
					ai = yes
					NOT = {
						military_strength = {
							who = ROOT
							value = 0.33
						}
					}
				}
			}
			random_ally = {
				limit = {
					ai = yes
					NOT = {
						military_strength = {
							who = ROOT
							value = 0.33
						}
					}
				}
				break_alliance = ROOT
			}
		}
	}
}

#seek independence using all of the overlord's enemies for assistance

country_event = {
	id = general_ai.49
	title = none
	desc = none
	picture = none
	
	hidden = yes
	
	trigger = {
		is_year = 1450 #so as to not be unfair right off the bat
		liberty_desire = 50
		ai = yes
		is_subject = yes
		NOT = {
			OR = {
				is_subject_of_type = tributary_state
				is_subject_of_type = pact_member
				is_subject_of_type = sister_republic
			}
		}
		is_at_war = no
		overlord = {
			any_known_country = {
				NOT = {
					is_supporting_independence_of = ROOT
				}
				ai = yes
				OR = {
					is_rival = PREV
					ai_attitude = {
						who = PREV
						attitude = attitude_outraged
					}
					ai_attitude = {
						who = PREV
						attitude = attitude_hostile
					}
				}
				#is_at_war = no
				NOT = { truce_with = ROOT }
				NOT = { truce_with = PREV }
				has_opinion = {
					who = ROOT
					value = -25
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 36

		modifier = {
			factor = 0.001
			overlord = {
				is_hegemon = yes
			}
		}
		modifier = {
			factor = 0.1
			overlord = {
				NOT = {
					great_power_rank = 6
				}
			}
		}
	}
	
	option = {
		name = "none"
		overlord = {
            save_event_target_as = root_overlord
        }
		random_known_country = {
			limit = {
				NOT = {
					is_supporting_independence_of = ROOT
				}
				ai = yes
				OR = {
					is_rival = event_target:root_overlord
					ai_attitude = {
						who = event_target:root_overlord
						attitude = attitude_outraged
					}
					ai_attitude = {
						who = event_target:root_overlord
						attitude = attitude_hostile
					}
				}
				is_at_war = no
				NOT = { truce_with = ROOT }
				NOT = { truce_with = event_target:root_overlord }
				has_opinion = {
					who = ROOT
					value = -25
				}
			}
			support_independence_of = ROOT
		}
	}
}

#if the country who has the fraticelli clerical zeal modifier is ai, it will seek to kill the pope ASAP

country_event = {
	id = general_ai.50
	title = none
	desc = none
	picture = none
	
	hidden = yes
	
	trigger = {
		ai = yes
		has_country_modifier = fraticelli_clerics
		is_at_war = no
		
		PAP = {
			NOT = {
				army_strength = {
					who = ROOT
					value = 0.75
				}
			}
			OR = {
				NOT = {
					any_ally = {
						army_strength = {
							who = ROOT
							value = 0.5
						}
					}
				}
				NOT = {
					num_of_allies = 1
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "none"
		
		ROOT = {
			declare_war_with_cb = {
				casus_belli = cb_conquest
				who = PAP
				war_goal_province = 118
			}
		}
	}
}

#if liberty desire is high enough, declare independence war

country_event = {
	id = general_ai.51
	title = none
	desc = none
	picture = none
	
	hidden = yes
	
	trigger = {
		ai = yes
		liberty_desire = 100
		is_at_war = no
		
		overlord = {
			OR = {
				any_country = {
					is_supporting_independence_of = ROOT
					military_strength = {
						who = PREV
						value = 2
					}
				}
				calc_true_if = {
					amount = 2
					all_country = {
						is_supporting_independence_of = ROOT
						military_strength = {
							who = PREV
							value = 1
						}
					}
				}
				calc_true_if = {
					amount = 3
					all_country = {
						is_supporting_independence_of = ROOT
						military_strength = {
							who = PREV
							value = 0.75
						}
					}
				}
				calc_true_if = {
					amount = 4
					all_country = {
						is_supporting_independence_of = ROOT
						military_strength = {
							who = PREV
							value = 0.5
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "none"
		
		ROOT = {
			declare_war_with_cb = {
				casus_belli = cb_independence_war
				who = overlord
			}
			every_country = {
				limit = {
					is_supporting_independence_of = ROOT
				}
				join_all_offensive_wars_of = ROOT
			}
		}
	}
}

#remove alliances with countries whose army is far weaker than ours

country_event = {
	id = general_ai.52
	title = none
	desc = none
	picture = none
	
	hidden = yes
	
	trigger = {
		ai = yes
		is_at_war = no
		NOT = {
			num_of_free_diplomatic_relations = 1
		}
		
		any_ally = {
			ai = yes
			NOT = {
				military_strength = {
					who = ROOT
					value = 0.1
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "none"
		
		random_ally = {
			limit = {
				ai = yes
				NOT = {
					military_strength = {
						who = ROOT
						value = 0.1
					}
				}
			}
			break_alliance = ROOT
		}
	}
}

#set in empire if emperor and a neighbor is part of HRE

country_event = {
	id = general_ai.53
	title = none
	desc = none
	picture = none
	
	hidden = yes
	
	trigger = {
		ai = yes
		is_emperor = yes
		is_part_of_hre = no
		any_neighbor_country = {
			is_part_of_hre = yes
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "none"
		
		ROOT = {
			set_in_empire = yes
		}
	}
}

#Fortress events

province_event = {
	id = general_ai.54
	title = none
	desc = none
	picture = none
	
	#hidden = yes
	
	trigger = {
		OR = {
			num_free_building_slots = 1
			NOT = {
				AND = {
					num_free_building_slots = 1
					owner = {
						NOT = {
							tax_income_percentage = 0.25
						}
					}
					OR = {
						has_building = temple
						has_building = cathedral
					}
				}
			}
		}
		owner = {
			ai = yes
			NOT = { num_of_loans = 1 }
			current_income_balance = 2
			years_of_income = 1.5
		}
		OR = {
			any_neighbor_province = {
				NOT = {
					owner = {
						tag = ROOT
					}
				}
			}
			has_terrain = mountain
		}
		OR = {
			AND = {
				owner = { 
					NOT = { mil_tech = 14 }
					treasury = 200
					current_income_balance = 2
				}
				NOT = { has_building = fort_16th }
			}
			AND = {
				owner = { 
					mil_tech = 14
					NOT = { mil_tech = 19 }
					treasury = 400
					current_income_balance = 4
				}
				NOT = { has_building = fort_16th }
			}
			AND = {
				owner = { 
					mil_tech = 19
					NOT = { mil_tech = 24 }
					treasury = 600
					current_income_balance = 6
				}
				NOT = { has_building = fort_17th }
			}
			AND = {
				owner = { 
					mil_tech = 24
					treasury = 800
					current_income_balance = 8
				}
				NOT = { has_building = fort_18th }
			}
		}
	}

	mean_time_to_happen = {
		months = 12

		modifier = {
			factor = 0.01
			OR = {
				has_terrain = hills
				has_terrain = woods
				has_terrain = highlands
				has_terrain = marsh
				has_terrain = mountain
			}
		}

		modifier = {
			factor = 0.1
			any_neighbor_province = {
				owner = {
					OR = { 
						is_rival = ROOT 
						is_enemy = ROOT 
					}
				}
			}
		}
	}
	
	option = {

		if = {
			limit = { 
				NOT = { num_free_building_slots = 1 }
				OR = {
					has_building = temple
					has_building = cathedral
				}
			}
			remove_building = temple
			remove_building = cathedral
		}

		if = {
			limit = { 
				AND = {
					owner = { 
						NOT = { mil_tech = 14 }
						treasury = 200
						current_income_balance = 2
					}
					NOT = { has_building = fort_15th }
				}
			}
			add_building_construction = {
				building = fort_15th
				cost = 0.9
			}
		}

		if = {
			limit = { 
				AND = {
					owner = { 
						mil_tech = 14
						NOT = { mil_tech = 19 }
						treasury = 400
						current_income_balance = 4
					}
					NOT = { has_building = fort_16th }
				}
			}
			add_building_construction = {
				building = fort_16th
				cost = 0.9
			}
		}

		if = {
			limit = { 
				AND = {
					owner = { 
						mil_tech = 19
						NOT = { mil_tech = 24 }
						treasury = 600
						current_income_balance = 6
					}
					NOT = { has_building = fort_17th }
				}
			}
			add_building_construction = {
				building = fort_17th
				cost = 0.9
			}
		}

		if = {
			limit = { 
				AND = {
					owner = { 
						mil_tech = 24
						treasury = 800
						current_income_balance = 8
					}
					NOT = { has_building = fort_18th }
				}
			}
			add_building_construction = {
				building = fort_18th
				cost = 0.9
			}
		}
	}
}

country_event = {
	id = general_ai.55
	title = none
	desc = none
	picture = none
	
	#hidden = yes
	
	trigger = {
		ai = yes
		is_great_power = yes
		treasury = 500
		NOT = { num_of_loans = 1 }
		has_regency = no
		is_subject = no
		OR = {
			is_female = no
			religion = anglican
		}
		OR = {
			religion_group = christian
			religion_group = muslim
		}
		is_defender_of_faith = no
		NOT = {
			any_country = {
				religion = ROOT
				military_strength = {
					who = ROOT
					value = 1
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 60

		modifier = {
			factor = 0.5
			calc_true_if = {
				amount = 25
				all_country = {
					religion = ROOT
				}
			}
		}

		modifier = {
			factor = 0.25
			calc_true_if = {
				amount = 45
				all_country = {
					religion = ROOT
				}
			}
		}
	}
	
	option = {
		name = "none"
		
		add_treasury = -500
		set_defender_of_the_faith = {
			who = ROOT
			religion = ROOT
		}
	}
}